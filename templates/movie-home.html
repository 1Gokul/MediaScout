{% from "macros.html" import small_poster_carousel %}
{% extends "layout.html" %}
{% block body %}

<!-- Small Movie Carousel -->
<div class="carousel-small" data-flickity='{ "wrapAround": true, "autoPlay": 5000, "lazyLoad": true }'>
    {% for item in movie_info["now_playing_movies"] %}
    <div class="gallery-cell">
        <a href="{{ item['detail_link'] }}">
            <div class="desktop-backdrop">
                <img loading="lazy" src="{{ item['backdrop'] }}" />
            </div>
            <div class="mobile-backdrop">
                <img loading="lazy" src="{{ item['poster'] }}" />
            </div>

            <span class="carousel-image-caption">
                <h2>{{ item["full_title"] }}</h2>
                <h5 class="carousel-image-overview mb-3">{{ item["description"] }}</h5>

                <h5>
                    <i class="fas fa-calendar"></i>
                    {{ item["date"] }}
                </h5>

                <h5>
                    <i class="fas fa-star-half-alt"></i>
                    {{ item["rating"]}}
                </h5>
            </span>
        </a>
    </div>
    {% endfor %}
</div>

<!-- Discover Section -->

{{ small_poster_carousel("Upcoming", movie_info["upcoming_movies"]) }}
{{ small_poster_carousel("Documentaries", movie_info["documentary_movies"]) }}
{{ small_poster_carousel("Top Rated", movie_info["top_rated_movies"]) }}
{{ small_poster_carousel("Popular", movie_info["popular_movies"]) }}
{{ small_poster_carousel("Mystery", movie_info["mystery_movies"]) }}
{{ small_poster_carousel("Comedy", movie_info["comedy_movies"]) }}
{{ small_poster_carousel("Drama", movie_info["drama_movies"]) }}
{{ small_poster_carousel("Westerns", movie_info["western_movies"]) }}
{{ small_poster_carousel("Crime", movie_info["crime_movies"]) }}


{% endblock %} {% block script %}

<!-- Flickity JavaScript -->
<script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>

{% endblock %}